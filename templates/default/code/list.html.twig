{% extends 'layout.html.twig' %}

{% block title %}Code(s) - {{ site_name }}{% endblock %}

{% block breadcrumbs %}
<a href="{{ path('homepage') }}"><i class="material-icons">home</i></a><i class="material-icons">chevron_right</i>
<a href="{{ path('admin') }}"><i class="material-icons">build</i>&nbsp;Administration</a><i class="material-icons">chevron_right</i>
<i class="material-icons">vpn_key</i>&nbsp;Code(s)
{% endblock %}

{% block content %}
    {% include "default/code/_list.html.twig" with { codes: codes } %}

    <br />

    {% if not code_generation_enabled and is_granted('edit', codes | first) %}
        <a href="{{ path("code_edit") }}" class="waves-effect waves-light btn teal"><i class="material-icons left">add</i>Mettre à jour le code</a>
    {% endif %}
    {% if is_granted('generate', codes | first) %}
        <a href="{{ path("code_generate") }}" class="waves-effect waves-light btn teal"><i class="material-icons left">add</i>Déposer un nouveau jeu de clefs</a>
    {% endif %}
{% endblock %}
